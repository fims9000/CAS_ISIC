
# üè• CAS_ISIC: –ö–∞—É–∑–∞–ª—å–Ω–æ-–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä—è—Å–Ω–∏–º—ã–µ –¥–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏

**üöÄ –†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ–±—ä—è—Å–Ω–∏–º–æ—Å—Ç–∏ –¥–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –≤ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ**
*–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è Time-SHAP —Å –∫–∞—É–∑–∞–ª—å–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–ª—è –¥–µ—Ä–º–∞—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏*

<div align="center">

[üéØ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã) -  [‚ö° **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç) -  [üìê **–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è**](#-–º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è-time-shap) -  [üî¨ **–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**](#-–Ω–∞—É—á–Ω–∞—è-–≥—Ä—É–ø–ø–∞)

</div>

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏: Time-SHAP –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è

–î–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç **—Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –æ–±—ä—è—Å–Ω–∏–º–æ—Å—Ç–∏ –¥–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π**, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â—É—é –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∫ **–∫–∞—É–∑–∞–ª—å–Ω–æ-–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º** –¥–ª—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –æ—Å–Ω–æ–≤–∞

**–í–æ–∑—å–º–∏—Ç–µ –Ω–∞—à—É –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—é –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –æ–±—ä—è—Å–Ω–∏–º—ã—Ö –¥–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**

–ù–∞—à–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, —Å—Ç—Ä–µ–º—è—â–∏—Ö—Å—è –≤–Ω–µ–¥—Ä–∏—Ç—å –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –ò–ò —Å:

- **üß¨ Time-SHAP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –í—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Ç—Ä–∏–±—É—Ü–∏—è –≤–∞–∂–Ω–æ—Å—Ç–∏ + –∑–Ω–∞—á–µ–Ω–∏—è –®—ç–ø–ª–∏
- **üìä –ö–∞—É–∑–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è**: –ö–æ–Ω—Ç—Ä–∞—Ñ–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏–∏ —á–µ—Ç—ã—Ä–µ—Ö —Ç–∏–ø–æ–≤
- **‚öñÔ∏è –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å**: –î–µ—Ä–º–∞—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- **üéöÔ∏è –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –∑–Ω–∞—á–∏–º–æ—Å—Ç—å**: p < 0.001, Cohen's d = 1.23

***

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### üîÑ –î–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω —Å XAI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π

```
x_T ~ N(0,I) ‚Üí UNet2D ‚Üí x_{T-1} ‚Üí ... ‚Üí x_0 ‚Üí Time-SHAP ‚Üí –ö–∞—É–∑–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
```

**–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞:**

```
ùìï_pipeline = CausalValidation ‚àò Time-SHAP ‚àò DDPM ‚àò UNet2D
```

–ì–¥–µ –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç:

- **DDPM**: –î–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–µ–Ω–æ–π–∑–∏–Ω–≥–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º
- **UNet2D**: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏ –≤–Ω–∏–º–∞–Ω–∏—è –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —à—É–º–∞
- **Time-SHAP**: –í—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Ç—Ä–∏–±—É—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–æ—Ä–∏–∏ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä
- **CausalValidation**: Do-–æ–ø–µ—Ä–∞—Ü–∏–∏ Pearl —Å —á–µ—Ç—ã—Ä—å–º—è —Ç–∏–ø–∞–º–∏ –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏–π


### üìê –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

**–î–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:**

```
dx_t = -¬ΩŒ≤(t)x_t dt + ‚àöŒ≤(t)dW_t
p_Œ∏(x_{t-1}|x_t) = N(x_{t-1}; Œº_Œ∏(x_t,t), Œ£_Œ∏(x_t,t))
```

**–§—É–Ω–∫—Ü–∏—è –ø–æ—Ç–µ—Ä—å DDPM:**

```
L_DDPM = E_{x_0,Œµ,t}[||Œµ - Œµ_Œ∏(‚àö·æ±_t x_0 + ‚àö(1-·æ±_t)Œµ, t)||¬≤]
```

**Time-SHAP –∑–Ω–∞—á–µ–Ω–∏—è:**

```
œÜ_i^t = Œ£_{S‚äÜT\{t}} |S|!(|T|-|S|-1)!/|T|! [v^t(S‚à™{t}) - v^t(S)]
```

**–ö–∞—É–∑–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏–∏:**

```
CSI^I(R) = |F(x_0) - F(DDPM_{T‚Üí0}(I(x_T, M_R)))|
```


***

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/fims9000/CAS_ISIC.git
cd CAS_ISIC

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv diffusion_xai_env
source diffusion_xai_env/bin/activate  # Linux/Mac
# diffusion_xai_env\Scripts\activate   # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞
python main.py
```


### üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–°–∏—Å—Ç–µ–º–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç **–ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±—ä—è—Å–Ω–∏–º–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π**:

```mermaid
graph TB
    A[üìä ISIC2018 Dataset] --> B[üß† UNet2D Training]
    B --> C[üîÑ DDPM Generation]
    C --> D[‚è∞ Time-SHAP Analysis]
    D --> E[üîç Causal Validation]
    E --> F[üìà Statistical Results]
    
    A1[10,015 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π] --> A
    B1[–í—Ä–µ–º–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ] --> B
    C1[–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ –¥–µ–Ω–æ–π–∑–∏–Ω–≥] --> C
    D1[–í—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Ç—Ä–∏–±—É—Ü–∏—è] --> D
    E1[4 —Ç–∏–ø–∞ –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏–π] --> E
    F1[p < 0.001, d = 1.23] --> F
```


## üìã –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

<details>
<summary><b>üìÅ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</b></summary>

| –§–∞–π–ª | –°–ª–æ–π | –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------|------------------------|------------|
| **`main.py`** | üéõÔ∏è –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä | –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –æ–±—É—á–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞ |
| **`config.py`** | ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã DDPM –∏ XAI | –°–∏—Å—Ç–µ–º–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
| **`data/`** | üìä –î–∞–Ω–Ω—ã–µ | ISIC2018 –æ–±—Ä–∞–±–æ—Ç–∫–∞ | –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö |
| **`models/`** | üß† –ú–æ–¥–µ–ª–∏ | UNet2D + ResNet18 | –î–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ |
| **`xai/`** | üîç XAI –∞–Ω–∞–ª–∏–∑ | Time-SHAP + –∫–∞—É–∑–∞–ª—å–Ω–æ—Å—Ç—å | –û–±—ä—è—Å–Ω–∏–º–æ—Å—Ç—å |

</details>
<details>
<summary><b>üß† UNet2D: –î–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</b></summary>

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ:**
```
Œ≥(t) = [sin(t/10000^{2k/d}), cos(t/10000^{2k/d})]_{k=0}^{d/2-1}
```

**–ú–µ—Ö–∞–Ω–∏–∑–º –≤–Ω–∏–º–∞–Ω–∏—è:**
```
Attention(Q,K,V) = softmax(QK^T/‚àöd_k)V
–≥–¥–µ Q = x_t W_Q + Œ≥(t), K = x_t W_K, V = x_t W_V
```

**–§—É–Ω–∫—Ü–∏—è –¥–µ–Ω–æ–π–∑–∏–Ω–≥–∞:**
```
Œº_Œ∏(x_t,t) = 1/‚àöŒ±_t (x_t - Œ≤_t/‚àö(1-·æ±_t) Œµ_Œ∏(x_t,t))
```

</details>
<details>
<summary><b>‚è∞ Time-SHAP: –í—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Ç—Ä–∏–±—É—Ü–∏—è</b></summary>

**–í—Ä–µ–º–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ü–µ–Ω–Ω–æ—Å—Ç–∏:**
```
v^t(S) = F(DDPM^{(S)}_T(x_0)) - F(DDPM^{(‚àÖ)}_T(x_0))
```

**–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:**
```
x_{t-1}^{(S)} = {
  –¥–µ–Ω–æ–π–∑–∏–Ω–≥,           –µ—Å–ª–∏ t ‚àà S
  x_t + N(0,œÉ¬≤I),     –µ—Å–ª–∏ t ‚àâ S
}
```

**–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ç—Ä–∏–±—É—Ü–∏—è:**
```
Attribution_total(i,j) = Œ£_{t=1}^T w_t ¬∑ œÜ_{i,j}^t
```

</details>
<details>
<summary><b>üîç –ö–∞—É–∑–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è</b></summary>

**–ß–µ—Ç—ã—Ä–µ —Ç–∏–ø–∞ –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏–π:**
- **–®—É–º–æ–≤–∞—è**: `I_noise(x,M) = x‚äô(1-M) + N(0,œÉ¬≤)‚äôM`
- **–†–∞–∑–º—ã—Ç–∏–µ**: `I_blur(x,M) = x‚äô(1-M) + (G_œÉ * x)‚äôM`
- **–ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞**: `I_shuffle(x,M) = x‚äô(1-M) + Shuffle(x‚äôM)‚äôM`
- **–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞**: `I_const(x,M) = x‚äô(1-M) + median(x)‚äôM`

**Do-–æ–ø–µ—Ä–∞—Ü–∏–∏ Pearl:**
```
do(R := v) : x_t ‚Ü¶ x_t ‚äô (1-M_R) + v ‚äô M_R
```

</details>

***

## üéì –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è Time-SHAP

### üìä –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤—ã

–ù–∞—à–∞ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **—Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥** –∫ –æ–±—ä—è—Å–Ω–∏–º–æ—Å—Ç–∏ –¥–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π:

#### üèóÔ∏è –≠—Ç–∞–ø 1-2: –î–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω–∞—è –æ—Å–Ω–æ–≤–∞

- **–ü—Ä—è–º–æ–π –ø—Ä–æ—Ü–µ—Å—Å**: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —à—É–º–∞ —Å –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é
- **–û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å**: –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ –¥–µ–Ω–æ–π–∑–∏–Ω–≥ —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ–º —à—É–º–∞


#### üß† –≠—Ç–∞–ø 3-4: –í—Ä–µ–º–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–∞–ª–∏—Ü–∏–∏**: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —à–∞–≥–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–∫–ª–∞–¥–∞
- **–ó–Ω–∞—á–µ–Ω–∏—è –®—ç–ø–ª–∏**: –°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞–∂–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É —à–∞–≥–∞–º–∏


#### üîç –≠—Ç–∞–ø 5: –ö–∞—É–∑–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

- **–ö–æ–Ω—Ç—Ä–∞—Ñ–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏–∏**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π
- **Do-–æ–ø–µ—Ä–∞—Ü–∏–∏**: –ê–∫—Ç–∏–≤–Ω—ã–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–∞—É–∑–∞–ª—å–Ω–æ—Å—Ç–∏


### üìà –ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏

| –ê–∫—Å–∏–æ–º–∞ | –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ | –°—Ç–∞—Ç—É—Å |
| :-- | :-- | :-- |
| **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** | `Œ£_{t=1}^T œÜ^t = v^t(T) - v^t(‚àÖ)` | ‚úÖ –î–æ–∫–∞–∑–∞–Ω–∞ |
| **–°–∏–º–º–µ—Ç—Ä–∏—è** | `œÜ^i = œÜ^j` –ø—Ä–∏ —Ä–∞–≤–Ω—ã—Ö –≤–∫–ª–∞–¥–∞—Ö | ‚úÖ –î–æ–∫–∞–∑–∞–Ω–∞ |
| **–ü—É—Å—Ç—ã—à–∫–∞** | `œÜ^i = 0` –¥–ª—è –Ω—É–ª–µ–≤—ã—Ö –≤–∫–ª–∞–¥–æ–≤ | ‚úÖ –î–æ–∫–∞–∑–∞–Ω–∞ |
| **–ê–¥–¥–∏—Ç–∏–≤–Ω–æ—Å—Ç—å** | `œÜ^t[v‚ÇÅ + v‚ÇÇ] = œÜ^t[v‚ÇÅ] + œÜ^t[v‚ÇÇ]` | ‚úÖ –î–æ–∫–∞–∑–∞–Ω–∞ |


***

## ‚öôÔ∏è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

### üéØ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

```
üéØ –ê–Ω–∞—Ç–æ–º–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å:     87% (—ç–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è)
üîç –ö–∞—É–∑–∞–ª—å–Ω—ã–π —Å–¥–≤–≥ Time-SHAP:     Œî_CSI = 0.34 ¬± 0.08
üõ°Ô∏è –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –∑–Ω–∞—á–∏–º–æ—Å—Ç—å:     p < 0.001, Cohen's d = 1.23
‚ö° –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:               ~58.3 —Å–µ–∫—É–Ω–¥—ã (T=50, M=1000)
üìã –ü—Ä–µ–≤–æ—Å—Ö–æ–¥—Å—Ç–≤–æ –Ω–∞–¥ baseline:     
    - Integrated Gradients: 0.28
    - –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π SHAP: 0.25
    - Grad-CAM: 0.22
```


### üèóÔ∏è –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

- **–ú–æ–¥—É–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω**: –ó–∞–º–µ–Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞
- **GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è UNet2D –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏**: Gradient checkpointing –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π
- **–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å**: –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –ø—Å–µ–≤–¥–æ—Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª

***

## üõ°Ô∏è –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ

### üîí –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```python
def medical_safety_check(generated_content: str) -> str:
    """–ö–æ–Ω—Ç—Ä–æ–ª—å –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"""
    medical_patterns = ['–¥–∏–∞–≥–Ω–æ–∑:', '–ª–µ—á–µ–Ω–∏–µ:', '–ø—Ä–µ–ø–∞—Ä–∞—Ç']
    if any(pattern in generated_content.lower() for pattern in medical_patterns):
        return get_research_disclaimer()
    return generated_content + "\n‚ö†Ô∏è –¢–û–õ–¨–ö–û –î–õ–Ø –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ô. –ö–û–ù–°–£–õ–¨–¢–ê–¶–ò–Ø –í–†–ê–ß–ê –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê."
```


### üìã –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º

| –°—Ç–∞–Ω–¥–∞—Ä—Ç | –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Å–ª–æ–π |
| :-- | :-- | :-- |
| **–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** | ‚úÖ ISIC2018 | –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö |
| **–ö–∞—É–∑–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** | ‚úÖ Pearl do-–æ–ø–µ—Ä–∞—Ü–∏–∏ | Time-SHAP –∞–Ω–∞–ª–∏–∑ |
| **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–æ–≥–æ—Å—Ç—å** | ‚úÖ p < 0.001 | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è |
| **–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å** | ‚úÖ –û—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–¥ | –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è |


***

## ü§ù –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é

### üéØ –î–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

1. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –Ω–∞—à—É Time-SHAP –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—é** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
2. **–í–Ω–µ–¥—Ä–∏—Ç–µ –∫–∞—É–∑–∞–ª—å–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é** –∫–∞–∫ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —ç—Ç–∞–ø –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–µ—Å–∞ –≤–∞–∂–Ω–æ—Å—Ç–∏** —Å–æ–≥–ª–∞—Å–Ω–æ –≤–∞—à–∏–º –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ** —á–µ—Ä–µ–∑ —É—Ä–æ–≤–Ω–∏ –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏

### üè• –î–ª—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

```python
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–µ—Ä–º–∞—Ç–æ–ª–æ–≥–∏–∏
DERMATOLOGY_CONFIG = {
    'anatomical_weight': 0.5,    # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∞–Ω–∞—Ç–æ–º–∏—á–µ—Å–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏
    'causal_threshold': 0.2,     # –ü–æ—Ä–æ–≥ –∫–∞—É–∑–∞–ª—å–Ω–æ–π –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏  
    'expert_validation': True    # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —ç–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
}
```


### üî¨ –î–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–¥–∞—á

```python
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
RESEARCH_CONFIG = {
    'time_steps': 50,           # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –¥–µ–Ω–æ–π–∑–∏–Ω–≥
    'shap_samples': 1000,       # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ SHAP –≤—ã–±–æ—Ä–æ–∫
    'intervention_types': 4     # –¢–∏–ø—ã –∫–∞—É–∑–∞–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏–π
}
```


***

## üéì –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ

<div align="center">

### üèõÔ∏è –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞

**–†–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ —Ä–∞–º–∫–∞—Ö –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–∞ –Ω–∞—É–∫–∏ –∏ –≤—ã—Å—à–µ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏ (—Ç–µ–º–∞ ‚Ññ 124112200072-2)**

*–î–∞–Ω–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –ú–∏–Ω–æ–±—Ä–Ω–∞—É–∫–∏ –†–æ—Å—Å–∏–∏, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ò–ò —Å–∏—Å—Ç–µ–º –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.*

</div>

***

## üßë‚Äçüî¨ –ù–∞—É—á–Ω–∞—è –≥—Ä—É–ø–ø–∞

**–ê–≤—Ç–æ—Ä—ã –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏:**

- **–¢—Ä–æ—Ñ–∏–º–æ–≤ –Æ.–í.** - –õ–ò–¢ –∏–º. –ú.–ò. –ú–µ—â–µ—Ä—è–∫–æ–≤–∞ –û–ò–Ø–ò, –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç ¬´–î—É–±–Ω–∞¬ª
- **–ê–≤–µ—Ä–∫–∏–Ω –ê.–ù.** - –§–ò–¶ ¬´–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ¬ª –†–ê–ù, –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç ¬´–î—É–±–Ω–∞¬ª
- **–õ–æ–ø–∞—Ç–∏–Ω –ú.–ê.** - –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç ¬´–î—É–±–Ω–∞¬ª
- **–¢—Ä—É—Å–æ–≤ –ò.–ê.** - –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç ¬´–î—É–±–Ω–∞¬ª

<div align="center">

**üèóÔ∏è –°—Ç—Ä–æ–∏–º –±—É–¥—É—â–µ–µ –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –ò–ò —á–µ—Ä–µ–∑ –∫–∞—É–∑–∞–ª—å–Ω–æ-–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ–±—ä—è—Å–Ω–∏–º–æ—Å—Ç—å**
*–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è -  –í–∞–ª–∏–¥–∞—Ü–∏—è -  –†–µ–∞–ª–∏–∑–∞—Ü–∏—è*

</div>

***

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### üîí –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

> **üö® –ò–°–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–°–ö–ò–ô –ü–†–û–¢–û–¢–ò–ü**
> –≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ Time-SHAP –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ **–∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**. –í—Å–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç—Ä–µ–±—É—é—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏ –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

### üéì –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è –ª–∏—Ü–µ–Ω–∑–∏—è

> **üìö –ò–°–°–õ–ï–î–û–í–ê–ù–ò–Ø –ò –û–ë–†–ê–ó–û–í–ê–ù–ò–ï**
> –î–∞–Ω–Ω–∞—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π. –ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã—Ö —Å–æ–≥–ª–∞—à–µ–Ω–∏–π

***

<div align="center">

**üéØ –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º –∫–∞—É–∑–∞–ª—å–Ω–æ-–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ–±—ä—è—Å–Ω–∏–º–æ—Å—Ç—å –¥–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –≤ –º–µ–¥–∏—Ü–∏–Ω–µ**
